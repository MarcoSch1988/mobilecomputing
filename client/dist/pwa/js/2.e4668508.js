(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{4223:function(t,e,a){t.exports=a.p+"img/friends.7f964ac1.svg"},a65e:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-page",{staticClass:"flex q-py-sm"},[i("div",{staticClass:"row fit justify-center"},[i("div",{staticClass:"col-xl-3 col-md-6 col-xs-12 q-px-xs"},[i("q-form",{ref:"signUpForm",staticClass:"q-px-sm q-pt-lg q-pb-xs row items-start"},[i("q-input",{staticStyle:{width:"100%"},attrs:{square:"",type:"text",label:"Benutzername"},scopedSlots:t._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"person"}})]},proxy:!0}]),model:{value:t.registrationData.username,callback:function(e){t.$set(t.registrationData,"username",e)},expression:"registrationData.username"}}),i("q-input",{staticStyle:{width:"100%"},attrs:{square:"",type:"text",label:"Vorname"},scopedSlots:t._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"person"}})]},proxy:!0}]),model:{value:t.registrationData.firstname,callback:function(e){t.$set(t.registrationData,"firstname",e)},expression:"registrationData.firstname"}}),i("q-input",{staticStyle:{width:"100%"},attrs:{square:"",type:"text",label:"Nachname"},scopedSlots:t._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"person"}})]},proxy:!0}]),model:{value:t.registrationData.surname,callback:function(e){t.$set(t.registrationData,"surname",e)},expression:"registrationData.surname"}}),i("q-input",{staticClass:"q-mr-sm",staticStyle:{width:"33%"},attrs:{square:"",type:"text",label:"PLZ"},scopedSlots:t._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"location_on"}})]},proxy:!0}]),model:{value:t.registrationData.plz,callback:function(e){t.$set(t.registrationData,"plz",e)},expression:"registrationData.plz"}}),i("q-input",{attrs:{square:"",type:"text",label:"Ort"},scopedSlots:t._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"location_on"}})]},proxy:!0}]),model:{value:t.registrationData.city,callback:function(e){t.$set(t.registrationData,"city",e)},expression:"registrationData.city"}}),i("q-input",{staticStyle:{width:"100%"},attrs:{square:"",type:"text",label:"Straße + Nr."},scopedSlots:t._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"location_on"}})]},proxy:!0},{key:"append",fn:function(){return[i("q-btn",{attrs:{round:"",dense:"",icon:"gps_fixed"},on:{click:function(e){return t.searchAddress()}}})]},proxy:!0}]),model:{value:t.registrationData.street,callback:function(e){t.$set(t.registrationData,"street",e)},expression:"registrationData.street"}}),i("q-list",{attrs:{bordered:"",separator:""}},t._l(t.addressPrediction,(function(e){return i("div",{key:e.place_id},[t.addressPrediction.length>1?i("q-item",{attrs:{clickable:"",dense:""},on:{click:function(a){return t.setLocation(e.lat,e.lon,e.address)}}},[i("q-item-section",{staticClass:"text-caption"},[t._v("\n                "+t._s(e.display_name)+"\n              ")])],1):t._e()],1)})),0),i("div",{staticStyle:{width:"100%",height:"200px"},attrs:{id:"map"}}),i("div",{staticClass:"text-center text-caption fit text-grey-6"},[t._v("\n          Latitude: "+t._s(t.latitude)+" - Longitude: "+t._s(t.longitude)+"\n        ")]),i("div",{staticClass:"text-center fit text-primary text-body2 text-weight-medium"},[t._v("\n          Bitte platzieren Sie den Marker\n          "),i("img",{staticStyle:{height:"1em"},attrs:{src:a("d5c8")}}),t._v(" direkt\n          auf Ihren Wohnort\n        ")]),i("q-input",{staticStyle:{width:"100%"},attrs:{square:"",type:t.isPasswordVisible?"text":"password",label:"Passwort"},scopedSlots:t._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"lock"}})]},proxy:!0},{key:"append",fn:function(){return[i("q-btn",{attrs:{round:"",dense:"",flat:"",tabindex:"-1",icon:t.isPasswordVisible?"visibility":"visibility_off"},on:{click:function(e){t.isPasswordVisible=!t.isPasswordVisible}}})]},proxy:!0}]),model:{value:t.registrationData.password,callback:function(e){t.$set(t.registrationData,"password",e)},expression:"registrationData.password"}}),i("q-input",{staticStyle:{width:"100%"},attrs:{square:"",type:t.isPasswordVisible?"text":"password",label:"Passwort*",rules:[function(e){return e===t.registrationData.password||"Passwords müssen übereinstimmen"}]},scopedSlots:t._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"lock"}})]},proxy:!0},{key:"append",fn:function(){return[i("q-btn",{attrs:{round:"",dense:"",flat:"",tabindex:"-1",icon:t.isPasswordVisible?"visibility":"visibility_off"},on:{click:function(e){t.isPasswordVisible=!t.isPasswordVisible}}})]},proxy:!0}]),model:{value:t.registrationData.passwordRepeat,callback:function(e){t.$set(t.registrationData,"passwordRepeat",e)},expression:"registrationData.passwordRepeat"}}),""!=t.registrationErrorMessage?i("p",{staticClass:"text-red",staticStyle:{"text-align":"center"}},[t._v("\n          "+t._s(t.registrationErrorMessage)+"\n        ")]):t._e(),!0===t.registrationSuccessful?i("p",{staticClass:"text-green",staticStyle:{"text-align":"center"}},[t._v("\n          Registration successful\n        ")]):t._e(),i("q-btn",{staticClass:"full-width text-white",attrs:{unelevated:"",size:"lg",color:"primary",label:"Register"},on:{click:function(e){return t.signUp()}}}),i("q-btn",{staticClass:"full-width q-mt-md",attrs:{flat:"",color:"grey",label:"Return to Login",to:"/login"}})],1),i("q-img",{attrs:{src:a("4223")}})],1)])])},r=[],s=(a("8e6e"),a("8a81"),a("ac6a"),a("cadf"),a("06db"),a("456d"),a("9523")),n=a.n(s),o=a("e11eb"),c=a.n(o);a("6cc5");function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){n()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}delete c.a.Icon.Default.prototype._getIconUrl,c.a.Icon.Default.mergeOptions({iconRetinaUrl:a("584d"),iconUrl:a("6397"),shadowUrl:a("e2b9")});var d="",p="",g={name:"Registration",data:function(){return{registrationData:{username:"",firstname:"",surname:"",plz:"",city:"",street:"",password:"",passwordRepeat:""},addressPrediction:"",latitude:47.07088179,longitude:15.43822646,registrationErrorMessage:"",registrationSuccessful:!1,isPasswordVisible:!1}},mounted:function(){this.loadMap()},methods:{signUp:function(){var t=this;this.$refs.signUpForm.validate().then((function(e){!0===e&&t.$mainStore.user.register(u(u({},t.registrationData),{},{latitude:t.latitude,longitude:t.longitude})).then((function(){t.registrationErrorMessage="",t.registrationSuccessful=!0,setTimeout((function(){t.$router.push("/login")}),1500)})).catch((function(e){console.log(e),t.registrationErrorMessage=e.message}))}))},setLocation:function(t,e,a){p.closePopup(),d.setView([t,e],18),p.setLatLng([t,e]),this.latitude=parseFloat(t).toFixed(8),this.longitude=parseFloat(e).toFixed(8),void 0==a.road?void 0!=a.construction&&(this.registrationData.street=a.construction):this.registrationData.street=a.road,this.registrationData.plz=a.postcode,this.registrationData.city=a.city},searchAddress:function(){var t=this;if(this.addressPrediction="",!(this.registrationData.street.length<1||this.registrationData.city.length<1||this.registrationData.plz.length<1)){var e="https://nominatim.openstreetmap.org/search?format=json&limit=3&addressdetails=1&q="+this.registrationData.street+","+this.registrationData.city+",Österreich";fetch(e).then((function(t){return t.json()})).then((function(e){console.log(e),t.addressPrediction=e,t.setLocation(e[0].lat,e[0].lon)})).catch((function(t){console.log("Something went wrong!",t)}))}},loadMap:function(){var t=this,e={center:[this.latitude,this.longitude],zoom:9,preferCanvas:!0};d=c.a.map("map",e);var a=12;c.a.tileLayer("http://{s}.tile.osm.org/{z}/{x}/{y}.png",{attribution:"OSM"}).addTo(d),p=c.a.marker([this.latitude,this.longitude],{title:"Coordinates",alt:"Coordinates",draggable:!0}),p.on("dragend",(function(){var e=p.getLatLng().lat.toFixed(8),i=p.getLatLng().lng.toFixed(8),r=d.getZoom();r<18&&(a=r+2),a>18&&(a=18),18!=r?d.setView([e,i],a):d.setView([e,i]),t.latitude=e,t.longitude=i})),p.addTo(d)},is3Chars:function(t){return t.length>=3||"Must be at least 3 characters"}}},f=g,m=(a("ef9b"),a("2877")),b=a("9989"),h=a("0378"),y=a("27f9"),w=a("0016"),x=a("9c40"),D=a("1c1c"),q=a("66e5"),v=a("4074"),k=a("068f"),P=a("eebe"),S=a.n(P),O=Object(m["a"])(f,i,r,!1,null,"2165451c",null);e["default"]=O.exports;S()(O,"components",{QPage:b["a"],QForm:h["a"],QInput:y["a"],QIcon:w["a"],QBtn:x["a"],QList:D["a"],QItem:q["a"],QItemSection:v["a"],QImg:k["a"]})},b266:function(t,e,a){},d5c8:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII="},ef9b:function(t,e,a){"use strict";var i=a("b266"),r=a.n(i);r.a}}]);